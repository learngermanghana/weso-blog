{% assign videos = site.data.youtube_videos %}
{% assign display_limit = include.limit | default: videos.size %}
<section class="video-section{% if include.compact %} video-section-compact{% endif %}">
  {% if include.title %}
    <h2>{{ include.title }}</h2>
  {% endif %}
  <div class="video-grid">
    {% for video in videos limit: display_limit %}
      <article class="video-card">
        <div class="video-embed">
          <iframe src="https://www.youtube.com/embed/{{ video.id }}" title="{{ video.title }}" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen loading="lazy"></iframe>
        </div>
        <h3>{{ video.title }}</h3>
        {% if video.description %}
          <p>{{ video.description }}</p>
        {% endif %}
      </article>
    {% endfor %}
  </div>
  {% if include.show_link %}
    <p class="video-section-link"><a class="pill" href="{{ '/videos/' | relative_url }}">Watch all videos</a></p>
  {% endif %}
</section>
